<!DOCTYPE html>
<html>

<head>
	<meta charset="UTF-8" />
	<title>title</title>
	<script>
		async function run() {
			const device = await navigator.bluetooth.requestDevice({
				filters: [
					{
						services: ['fafafafa-fafa-fafa-fafa-fafafafafafa'],
					},
				],
			});
			const { gatt } = device;
			await gatt.connect();
			const service = await gatt.getPrimaryService(
				'fafafafa-fafa-fafa-fafa-fafafafafafa'
			);
			const characteristic = await service.getCharacteristic(
				'3c9a3f00-8ed3-4bdf-8a39-a01bebede295'
			);
			/*setReaddValue(
			  new TextDecoder().decode(await characteristic.readValue())
			);
			characteristic.addEventListener(
			  'characteristicvaluechanged',
			  () => {
				const message = new TextDecoder().decode(characteristic.value);
				setNotifications((notifications) => [
				  ...notifications,
				  message,
				]);
			  }
			);
	  
			await characteristic.startNotifications();*/
			characteristic.writeValue(Uint8Array.of(1));
		}
	</script>

</head>

<body>
	<button onclick="run()">Click me</button>
</body>

</html>